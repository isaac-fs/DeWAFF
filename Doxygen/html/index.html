<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DeWAFF: Implementación y validación de un algoritmo de abstracción de imagen en C++</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DeWAFF
   </div>
   <div id="projectbrief">Deceived Weighted Average Filters Framework Image abstraction algorithm implementation in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Implementación y validación de un algoritmo de abstracción de imagen en C++ </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__home_isaac_Desktop_DeWAFF_README"></a>Repositorio dedicado a avances del proyecto elétctrico.<br  />
 <b>Estudiante</b>: Isaac F. Fonseca Segura.<br  />
 <b>Profesor guía</b>: Dr.rer.nat. Francisco Siles Canales.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Tabla de contenidos</h1>
<ul>
<li><a href="#implementación-y-validación-de-un-algoritmo-de-abstracción-de-imagen-en-c">Implementación y validación de un algoritmo de abstracción de imagen en C++</a><ul>
<li><a href="#tabla-de-contenidos">Tabla de contenidos</a></li>
<li><a href="#pasos-seguidos">Pasos seguidos</a></li>
<li><a href="#implementación-actual">Implementación actual</a></li>
<li><a href="#clases">Clases</a></li>
<li><a href="#generación-de-la-documentación">Generación de la documentación</a></li>
<li><a href="#compilación-del-proyecto">Compilación del proyecto</a></li>
<li><a href="#ejecución-del-framework">Ejecución del framework</a><ul>
<li><a href="#procesar-imagen">Procesar imagen</a></li>
<li><a href="#procesar-imagen-y-hacer-benchmark">Procesar imagen y hacer benchmark</a></li>
<li><a href="#procesar-vídeo">Procesar vídeo</a></li>
<li><a href="#procesar-vídeo-y-hacer-benchmark">Procesar vídeo y hacer benchmark</a></li>
</ul>
</li>
<li><a href="#idea-inicial-de-implementación">Idea inicial de implementación</a><ul>
<li><a href="#clase-dewaff">Clase DEWAFF</a></li>
<li><a href="#métodos">Métodos</a></li>
<li><a href="#funciones">Funciones</a></li>
<li><a href="#pruebas">Pruebas</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Pasos seguidos</h1>
<p>Esta sección sirve como referencia para la metodología del trabajo escrito.</p><ul>
<li>Configurar una VM con Ubuntu 22.04 LTS</li>
<li>Leer el material de <a href="https://www.opencv-srf.com/p/introduction.html">Open CV introduction</a></li>
<li>Seguir la guía de instalación <a href="https://docs.opencv.org/4.x/d7/d9f/tutorial_linux_install.html">OpenCV Instalation tutorial - Linux</a></li>
<li>Instalar VSCode y las extensiones necesarias para C++. Además de extensiones para soporte de CMake y Doxygen</li>
<li>Investigar sobre el framework <a class="el" href="class_de_w_a_f_f.html" title="Deceived Weighted Average Filters Framework class It applies a filter which intput and weighting inpu...">DeWAFF</a></li>
<li>Comenzar implementación en C++</li>
<li>Hacer un fork the <a href="https://github.com/juanGuerrero19/temporalSegmentation">temporalSegmentation</a></li>
<li>Automatización de compilación con CMake</li>
<li>Revisión extensiva y corrección de inconsistencias en el fork</li>
<li>Pruebas con imágenes y revisión de resultados</li>
<li>Pruebas con vídeo y revisión de resultados</li>
<li>Documentación del código con Doxygen</li>
<li>Elaboración del trabajo escrito <br  />
</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Implementación actual</h1>
<p>En la implementación actual se cuenta no sólo con la clase <a class="el" href="class_de_w_a_f_f.html" title="Deceived Weighted Average Filters Framework class It applies a filter which intput and weighting inpu...">DeWAFF</a>, pero también con clases que asisten al procesado de la imagen como la clase NonAdaptiveUSM. Además se incluyen clases que se encargan del preprocesado de la imagen y la presentación del programa en la terminal. Finalmente hay clases con métodos de asistencia como <a class="el" href="class_timer.html" title="Class containing the timer methods for the benchmarking of file processing.">Timer</a> y Tools.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Clases</h1>
<p>Las clases implementadas y/o adaptadas y sus métodos son las siguientes:</p><ul>
<li><a class="el" href="class_de_w_a_f_f.html" title="Deceived Weighted Average Filters Framework class It applies a filter which intput and weighting inpu...">DeWAFF</a><ul>
<li>DeceivedBilateralFilter</li>
<li>NonAdaptiveUSMFilter</li>
<li>LaplacianKernel</li>
<li>GaussianKernel</li>
<li>GaussianExponentialFactor</li>
</ul>
</li>
<li>FileProcessor<ul>
<li>processImage</li>
<li>processVideo</li>
<li>processFrame</li>
<li>errorExit</li>
</ul>
</li>
<li>CLI<ul>
<li>run</li>
<li>help</li>
</ul>
</li>
<li><a class="el" href="class_timer.html" title="Class containing the timer methods for the benchmarking of file processing.">Timer</a><ul>
<li>start</li>
<li>stop</li>
</ul>
</li>
<li>Tools<ul>
<li>meshGrid</li>
<li>getMinMax</li>
</ul>
</li>
</ul>
<p>Estas clases y funciones se encuentran extensivamente documentadas en formato Doxygen. Para generar la documentación se deben seguir los siguientes pasos</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Generación de la documentación</h1>
<p>Se deben introducir los siguientes comandos </p><div class="fragment"><div class="line">cd doxygen/</div>
<div class="line">doxygen Doxyfile</div>
</div><!-- fragment --><p> Después se debe abrir el enlace símbolico en el directorio raíz <code>DeWAFF-B52786/</code> del proyecto llamado <code>index.html</code>. Esto abrirá en su navegador la documentacion del proyecto. Doxygen debe estar instalado previamente.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Compilación del proyecto</h1>
<p>La compliación de este proyecto se realiza de manera automatizada con <code>cmake</code> y <code>make</code>. Para crear un ejecutable debe seguir los siguientes pasos en el directorio raíz <code>DeWAFF-B52786/</code>. Todas las dependencias de <code>OpenCV</code> deben estar instaladas previamente. </p><div class="fragment"><div class="line">cmake .</div>
<div class="line">cmake --build .</div>
</div><!-- fragment --><p> Si hace cambios al código podrá actualizar el proyecto con <code>make</code>.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Ejecución del framework</h1>
<p>Para correr el programa se debe haber generado el binario <code><a class="el" href="class_de_w_a_f_f.html" title="Deceived Weighted Average Filters Framework class It applies a filter which intput and weighting inpu...">DeWAFF</a></code> en el directorio raíz al haber seguido los pasos de compilación. Una vez con este binario se pueden procesar imágenes y vídeo con la opción de hacer un benchmark.</p>
<p>Para correr el programa use el siguiente comando en el directorio raíz <code>DeWAFF-B52786/</code>, o donde desee ubicar el programa</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Procesar imagen</h2>
<div class="fragment"><div class="line">./DeWAFF -i &lt;ruta del archivo&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md9"></a>
Procesar imagen y hacer benchmark</h2>
<div class="fragment"><div class="line">./DeWAFF -i &lt;ruta del archivo&gt; -b &lt;número de iteraciones&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md10"></a>
Procesar vídeo</h2>
<div class="fragment"><div class="line">./DeWAFF -v &lt;ruta del archivo&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md11"></a>
Procesar vídeo y hacer benchmark</h2>
<div class="fragment"><div class="line">./DeWAFF -v &lt;ruta del archivo&gt; -b &lt;número de iteraciones&gt;</div>
</div><!-- fragment --><p>El resultado se generará en la <code>ruta del archivo</code> escogido y se le agregará el sufijo <a class="el" href="class_de_w_a_f_f.html" title="Deceived Weighted Average Filters Framework class It applies a filter which intput and weighting inpu...">DeWAFF</a> de forma que el resultado se mostrará de la forma <code>&lt;nombre_del_archivo&gt;_DeWAFF.&lt;ext&gt;</code>. En el directorio raíz se encuentran un par de ejemplos en el directorio <code>img/</code>.</p>
<p>A los vídeos se les agrega la extensión <code>.avi</code> y las imágenes la extensión <code>.png</code> por defecto.</p>
<h1><a class="anchor" id="autotoc_md12"></a>
Idea inicial de implementación</h1>
<p>La idea original era crear desde cero una implementación de <a class="el" href="class_de_w_a_f_f.html" title="Deceived Weighted Average Filters Framework class It applies a filter which intput and weighting inpu...">DeWAFF</a>. Más adelante se esperaba partir de una implementación del algoritmo en Matlab, lamentablemente esta se perdió, por lo que se comenzó a implementar el framework desde cero. A medio camino se dio con una implementación de código abierto. Se hizo un fork de esta y se comenzó a trabajar con esto como nueva base. A pesar de tener ciertas inconsistencias tenía las bases necesarias y una implementación del filtro bilateral funcional.</p>
<p>A continuación se muestran las ideas originales del proyecto, las cuales terminaron siendo consistentes con la implementación actual. </p>
<h2><a class="anchor" id="autotoc_md13"></a>
Clase DEWAFF</h2>
<p>La clase DEWAFF debe contar con un constructor que inicialice los valores necesarios para iniciar el filtrado de una imagen.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Métodos</h2>
<p>La clase DEWAFF debe contar con métodos que realicen los siguientes pasos:</p>
<ul>
<li>Un método que permita cargar una imágen desde una ruta local. Adquirir el tamaño de la imagen y guardar otros parámetros que sean relevantes. Y finalmente definir el formato de la imágen (color, densidad de pixeles).</li>
<li>Un método que permita escoger el tipo de filtrado del framework utilizar (es posible pasar un string como parámetro). Este debe llamar a las funciones de filtrado necesarias y pasarles los parámetros que estas necesiten. Una vez terminado debe guardar la imágen con sufijo, ej: "imagen_\&lt;BF&gt;_\&lt;DEWAFF&gt;.png" si se utiliza el filtro bilateral.</li>
</ul>
<h2><a class="anchor" id="autotoc_md15"></a>
Funciones</h2>
<p>Se debe implementar una función por cada tipo de operación que el framework implemente. Por ejemplo, se deben implementar los filtros y las funciones que estos requieran.</p>
<h2><a class="anchor" id="autotoc_md16"></a>
Pruebas</h2>
<p>Con imágenes de formato FHD o HD se debe probar cada configuración del framework para asegurar el correcto funcionamiento del mismo. Se pretende usar imágenes en estas resoluciones para evaluar los tiempos de funcionamiento del framework y verificar visualmente los resultados.</p>
<p>Como pruebas finales se planea procesar imágenes de gran tamaño obtenidas de microoscopios u otros dispositivos. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>

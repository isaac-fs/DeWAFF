<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DeWAFF: Filters.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript"> DoxygenAwesomeDarkModeToggle.init() </script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DeWAFF
   </div>
   <div id="projectbrief">Deceived Weighted Average Filters Framework Image abstraction algorithm implementation in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_filters_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Filters.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for Filters.cpp:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="_filters_8cpp__incl.png" border="0" usemap="#a_filters_8cpp" alt=""/></div>
<map name="a_filters_8cpp" id="a_filters_8cpp">
<area shape="rect" title=" " alt="" coords="375,5,464,32"/>
<area shape="rect" href="_filters_8hpp.html" title=" " alt="" coords="374,80,465,107"/>
<area shape="rect" title=" " alt="" coords="89,155,152,181"/>
<area shape="rect" title=" " alt="" coords="177,155,331,181"/>
<area shape="rect" title=" " alt="" coords="5,229,175,256"/>
<area shape="rect" title=" " alt="" coords="199,229,418,256"/>
<area shape="rect" title=" " alt="" coords="443,229,652,256"/>
<area shape="rect" href="_utils_8hpp.html" title=" " alt="" coords="507,155,587,181"/>
<area shape="rect" title=" " alt="" coords="611,155,739,181"/>
<area shape="rect" title=" " alt="" coords="677,229,757,256"/>
<area shape="rect" title=" " alt="" coords="781,229,866,256"/>
<area shape="rect" title=" " alt="" coords="890,229,981,256"/>
</map>
</div>
</div>
<p><a href="_filters_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a473cd192c52b2888c73ab468e3480f31"><td class="memItemLeft" align="right" valign="top">return&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_filters_8cpp.html#a473cd192c52b2888c73ab468e3480f31">guidedFilter</a> (guidingImage, inputImage, <a class="el" href="_filters_8cpp.html#a8473439ab1575f3dacbaa5ad6e67748a">widowRadius</a>, <a class="el" href="_filters_8cpp.html#a4904cc82627458fdf6672ccc0b2802c7">epsilon</a>, -1)</td></tr>
<tr class="separator:a473cd192c52b2888c73ab468e3480f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8473439ab1575f3dacbaa5ad6e67748a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_filters_8cpp.html#a8473439ab1575f3dacbaa5ad6e67748a">widowRadius</a> = windowSize/2</td></tr>
<tr class="memdesc:a8473439ab1575f3dacbaa5ad6e67748a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply a Guided Filter to an image. This is the decoupled version of this filter, this means that the weighting image for the filter can be different from the input image. In this case the weighting image is known as guiding image. This filter uses a lineal algorithm, making it very fast computationally.  <a href="_filters_8cpp.html#a8473439ab1575f3dacbaa5ad6e67748a">More...</a><br /></td></tr>
<tr class="separator:a8473439ab1575f3dacbaa5ad6e67748a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4904cc82627458fdf6672ccc0b2802c7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_filters_8cpp.html#a4904cc82627458fdf6672ccc0b2802c7">epsilon</a> = pow((rangeSigma), 2.0)</td></tr>
<tr class="separator:a4904cc82627458fdf6672ccc0b2802c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a473cd192c52b2888c73ab468e3480f31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a473cd192c52b2888c73ab468e3480f31">&#9670;&nbsp;</a></span>guidedFilter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">return guidedFilter </td>
          <td>(</td>
          <td class="paramtype">guidingImage&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">inputImage&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_filters_8cpp.html#a8473439ab1575f3dacbaa5ad6e67748a">widowRadius</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_filters_8cpp.html#a4904cc82627458fdf6672ccc0b2802c7">epsilon</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">-&#160;</td>
          <td class="paramname"><em>1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4904cc82627458fdf6672ccc0b2802c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4904cc82627458fdf6672ccc0b2802c7">&#9670;&nbsp;</a></span>epsilon</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double epsilon = pow((rangeSigma), 2.0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_filters_8cpp_source.html#l00298">298</a> of file <a class="el" href="_filters_8cpp_source.html">Filters.cpp</a>.</p>

</div>
</div>
<a id="a8473439ab1575f3dacbaa5ad6e67748a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8473439ab1575f3dacbaa5ad6e67748a">&#9670;&nbsp;</a></span>widowRadius</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int widowRadius = windowSize/2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply a Guided Filter to an image. This is the decoupled version of this filter, this means that the weighting image for the filter can be different from the input image. In this case the weighting image is known as guiding image. This filter uses a lineal algorithm, making it very fast computationally. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputImage</td><td>image used as input for the filter </td></tr>
    <tr><td class="paramname">guidingImage</td><td>image used to calculate the kernel's weight </td></tr>
    <tr><td class="paramname">windowSize</td><td>processing window size </td></tr>
    <tr><td class="paramname">rangeSigma</td><td>range or radiometric standard deviation. Used to calculate \( \epsilon = \sigma_r^2} @return Mat output image */ Mat Filters::GuidedFilter(const Mat &amp;inputImage, const Mat &amp;guidingImage, int windowSize, double rangeSigma) { /** The Guided Filter initialy has the same form as any WAF \f[ q_i = sum_j W_{ij}(I)p_j \f] where \) q_i f$ is the output if filtered pixel \( p_j \) with the kernel \( W_{ij} \) guided by image \( I \). This is expected as the original idea for this filter comes from the bilateral filter. The greatness in this filter lies in its solution. It asumes a linear relationship: <p class="formulaDsp">
\[ q_i = a_k I_i + b_k, \forall i \in \omega_k \]
</p>
 where \( \omega_k \) is a window centered at pixel \( k \). The solution lies in finding the linear coefficients \( a_k \) and \( b_k \). This is achieved through the cost function <p class="formulaDsp">
\[ E(a_k, b_k) \sum_{i\in \omega_k} ((a_k I_i + b_k - p_i)^2 + \epsilon a_k^2)\]
</p>
 which seeks to minimize the difference between the input \( p \) and the output \( q \). The solution is found through a linear regresion <p class="formulaDsp">
\[ a_k = \frac{\frac{1}{|\omega|} \sum_{i\in \omega_k} I_i p_i - \mu_k \bar{p}_k}{\omega_k^2 + \epsilon}\]
</p>
 <p class="formulaDsp">
\[ b_k = \bar{p}_k - a_k \mu_k \]
</p>
 f$\mu_k f$ and \(\omega_k^2\) are the mean and the variance of \(I\) in \( \omega_k \), respectively. \( \frac{\frac{1}{|\omega|} \sum_{i\in \omega_k} p_i \) is the mean of \(p\) in \( \omega_k \). Finally the output is <p class="formulaDsp">
\[ q_i = \frac{1}{|\omega|} \sum_{k:i \in \omega_k} (a_k I_i + b_k )\]
</p>
 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_filters_8cpp_source.html#l00297">297</a> of file <a class="el" href="_filters_8cpp_source.html">Filters.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0159066781618ececcf20e8022361054.html">DeWAFF</a></li><li class="navelem"><a class="el" href="dir_2724ce9c43f8f539449f724e95e99d98.html">src</a></li><li class="navelem"><a class="el" href="_filters_8cpp.html">Filters.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
